FROM ubuntu:17.10

MAINTAINER heinoc <tracychsh@126.com>



# -----------------------------------------------------------------------------
# Ensure UTF-8
# -----------------------------------------------------------------------------
ENV LC_ALL=en_US.UTF-8 \
	LANG=en_US.UTF-8 \
	LANGUAGE=en_US.UTF-8


# -----------------------------------------------------------------------------
# 设置时区
# -----------------------------------------------------------------------------
RUN apt-get update \
    && apt-get install -y tzdata \
	&& ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \
	&& echo "Asia/Shanghai" > /etc/timezone \
	&& dpkg-reconfigure -f noninteractive tzdata



# -----------------------------------------------------------------------------
# 创建work用户
# -----------------------------------------------------------------------------
RUN useradd -r -m work \
    && echo "work:123456" | chpasswd \
    && echo "root:123456" | chpasswd 

RUN cd /home/work \
    && mkdir app \
    && mkdir src \
    && mkdir temp

# -----------------------------------------------------------------------------
# 设置work目录的用户和用户组
# -----------------------------------------------------------------------------
RUN chown -R work:work /home/work/*

# -----------------------------------------------------------------------------
# Define working directory.
# -----------------------------------------------------------------------------
WORKDIR /home/work



# -----------------------------------------------------------------------------
# 映射端口
# -----------------------------------------------------------------------------
EXPOSE 22
